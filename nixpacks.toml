[phases.setup]
nixPkgs = [
  "python311",
  "cairo",
  "pango",
  "gdk-pixbuf",
  "glib",
  "gobject-introspection",
  "libffi",
  "pkg-config"
]

[phases.install]
cmds = [
  "python3 -m venv --copies /opt/venv",
  ". /opt/venv/bin/activate",
  "pip install --no-cache-dir -r requirements.txt"
]

[start]
cmd = "uvicorn main:app --host 0.0.0.0 --port $PORT"

